<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Profile â€” SSB Prep</title>

  <link rel="stylesheet" href="css/style.css">

  <style>
    /* Page-local styles */
    .profile-wrap { max-width: 900px; margin: 36px auto; padding: 12px; }
    .card { background: var(--card-bg, #fff); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-soft, 0 6px 18px rgba(0,0,0,0.06)); border: 1px solid var(--divider,#e6e6e6); }
    h1 { margin: 0 0 8px 0; }
    .muted { color: var(--text-secondary, #6b7280); font-size: 0.95rem; }
    label { display:block; margin-top: 14px; font-weight:600; }
    input[type="text"].hf-input { width:100%; padding: 12px; border-radius: 8px; border: 1px solid var(--divider,#e6e6e6); margin-top: 8px; font-family: inherit; box-sizing: border-box; }
    .actions { margin-top: 14px; display:flex; gap: 10px; flex-wrap:wrap; }
    button.btn { padding: 10px 16px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; }
    button.primary { background: var(--primary,#2563eb); color: #fff; }
    button.ghost { background: transparent; border: 1px solid var(--divider,#e6e6e6); }
    .status { margin-top:10px; font-size:0.95rem; }
    .status.ok { color: var(--success-green,#059669); }
    .status.err { color: var(--error-red,#dc2626); }
    .small-note { font-size:0.9rem; color:var(--text-secondary,#6b7280); margin-top:8px; }
  </style>
</head>
<body>
  <!-- Header injected by main.js -->
  <div id="site-header"></div>

  <main class="profile-wrap">
    <div class="card">
      <h1>Profile</h1>
      <p class="muted">Manage your HuggingFace API key. Keys are stored privately under your account and used server-side only for generation.</p>

      <section id="hf-section" aria-labelledby="hf-title">
        <label for="hf-api-key">HuggingFace API key</label>
        <input id="hf-api-key" class="hf-input" type="text" placeholder="Paste your hf_xxx key here to save" autocomplete="off" />

        <div class="small-note">Saved at <code>users/{uid}/secrets/hf</code>. We never pre-fill the input with the real key for safety.</div>

        <div class="actions">
          <button id="hf-save-btn" class="btn primary">Save Key</button>
          <button id="hf-test-btn" class="btn ghost">Test Key</button>
          <button id="hf-delete-btn" class="btn ghost">Delete Key</button>
        </div>

        <div id="hf-status" class="status" aria-live="polite"></div>
      </section>
    </div>
  </main>

  <!-- Core app scripts -->
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/profile.js"></script>
</body>
</html>
